<html>
<head>
    <title>Tic Tac Toe</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        .row{
            display:flex;
            margin-top: 20px;
            margin-left:20px;
            width:70px;
            justify-content:space-between;
        }
    </style>
    <script>
        let turn = 0;
        let count = 0;
        let flag = 0;
        let arr = ['', '', '', '', '', '', '', '', ''];
        function disableAll() {
            let element = document.getElementsByClassName("btn");
            for (let i = 0; i < arr.length; i++) {
                if (arr[i] === '') {
                    element[i].disabled = true;
                }
            }
        }
        function validate() {
            let final = document.getElementById("result");
            for (let i = 0; i < 9; i+=3) {
                if (arr[i] ==='X' && arr[i + 1] ==='X' && arr[i + 2] ==='X') {
                    final.innerHTML = `Player1 wins !!!`;
                    flag = 1;
                }
                else if (arr[i] === 'O' && arr[i + 1] === 'O' && arr[i + 2] === 'O') {
                    final.innerHTML = `Player2 wins !!!`;
                    flag = 1;
                }
            }
            for (let i = 0; i < 3; i ++) {
                if (arr[i] === 'X' && arr[i + 3] === 'X' && arr[i + 6] === 'X') {
                    final.innerHTML = `Player1 wins !!!`;
                    flag = 1;
                }
                else if (arr[i] === 'O' && arr[i + 3] === 'O' && arr[i + 6] === 'O') {
                    final.innerHTML = `Player2 wins !!!`;
                    flag = 1;
                }
            }
            if ((arr[0] === 'X' && arr[4] === 'X' && arr[8] === 'X') || (arr[2]==='X' && arr[4]==='X' && arr[6]==='X')) {
                final.innerHTML = `Player1 wins !!!`;
                flag = 1;
            }
            else if ((arr[0] === 'O' && arr[4] === 'O' && arr[8] === 'O') || (arr[2] === 'O' && arr[4] === 'O' && arr[6] === 'O')) {
                final.innerHTML = `Player2 wins !!!`;
                flag = 1;
            }
            if (count >= 9) {
                final.innerHTML = `Noobs! Game Draw`;
            }
            if (flag == 1) {
                disableAll();
            }
        }
        function playerChange() {
            let element = document.getElementById("playerTurn");
            element.innerHTML = `This is the turn of Player${turn+1}`;
        }
        function buttonClick(buttonNo) {
            count++;
            console.log(`Button ${buttonNo} clicked`);
            let dis = document.getElementsByClassName("btn");
            dis[buttonNo].disabled = true;
            if (turn === 0) {
                dis[buttonNo].value = 'X';
                arr[buttonNo] = 'X';
            }
            else {
                dis[buttonNo].value = 'O';
                arr[buttonNo] = 'O';
            }
            turn = (turn + 1) % 2;
            if (count >= 5) {
                validate();
            }
            playerChange();
            console.log(arr);
        }
    </script>

</head>
<body>
    <div id="playerTurn"> This is the turn of Player1</div>
    <div class="row">
        <input class="btn" type="button" value="" onclick="buttonClick(0)"/>
        <input class="btn" type="button" value="" onclick="buttonClick(1)"/>
        <input class="btn" type="button" value="" onclick="buttonClick(2)"/>
    </div>
    <div class="row">
        <input class="btn" type="button" value="" onclick="buttonClick(3)"/>
        <input class="btn" type="button" value="" onclick="buttonClick(4)"/>
        <input class="btn" type="button" value="" onclick="buttonClick(5)"/>
    </div>
    <div class="row">
        <input class="btn" type="button" value="" onclick="buttonClick(6)"/>
        <input class="btn" type="button" value="" onclick="buttonClick(7)"/>
        <input class="btn" type="button" value="" onclick="buttonClick(8)"/>
    </div>
    <div id="result"></div>
</body>
</html>
